<!--*****************************************************************************************画面名：ログインチェック機能概要：掲示板を利用するアカウントのログインチェックをする        １.アカウント名とパスワードでAND検索でレコードチェック        ２.ログインボタン押下後、カテゴリ選択画面に遷移する        ３.*****************************************************************************************--><?php// DB接続クラス読み込みrequire_once("../model/DbPdo.php");        // ログイン画面から変数を取得        $mailAddress = filter_input(INPUT_POST, "mailAddress");        $password = filter_input(INPUT_POST, "password");        // エラーフラグ        $err_flg = false;        // レコード数        $cnt = 0;        // 変数の入力チェック        if ($mailAddress == "") {            echo "アカウントが入力されていません。<br />";            $err_flg = true;        }        if ($password == "") {            echo "パスワードが入力されていません。<br />";            $err_flg = true;        }        if (!$err_flg) {            // アカウント情報の重複チェック            $sql = "SELECT * FROM login_users WHERE address = " . "'" . $mailAddress . "'" . " AND password = " . "'" . $password . "'" . " AND del_flg = 0;";            $result_cnt = DbPdo::CountPdo($sql);            if ($result_cnt == 0) {                exit('ログインできません。<br />アカウントとパスワードをもう一度確認してください。<br />');            } else {                 // ユーザIDを取得する                $result = DbPdo::SelectPdo($sql);// ログイン処理成功時、カテゴリ表示画面にPOSTでアカウント情報を保持して遷移するecho <<< EOM<html><head><title></title></head><body><!-- ログイン処理成功時、カテゴリ表示画面にPOSTでアカウント情報を保持して遷移する --><form id="loginCheckForm" name="loginCheckForm" action="../view/dispCategories.php" method="POST"><input type="hidden" name="userID" value="$result[0]['id']"><input type="submit" value="カテゴリ表示画面へ"></form></body></html>EOM;                            }        }